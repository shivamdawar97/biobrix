{"version":3,"sources":["./src/app/core/http/cart-api.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AAIqB;AACqD;AACzE;;;;AA+BnC,MAAM,cAAc;IAIzB,YAAoB,IAAgB,EAAU,uBAAgD;QAA1E,SAAI,GAAJ,IAAI,CAAY;QAAU,4BAAuB,GAAvB,uBAAuB,CAAyB;QAF9F,aAAQ,GAAG,qEAAW,CAAC,QAAQ,CAAC;IAEiE,CAAC;IAElG,WAAW,CAAC,IAAe;QACzB,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,qEAAgB,EAAE,CAAC;QAClD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAc,GAAG,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC;IACrH,CAAC;IAED,MAAM,CAAC,KAAa;QAClB,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,4DAAO,iBAAiB,KAAK,EAAE,CAAC;QAC/D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,GAAG,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC;IAC1F,CAAC;IAED,SAAS,CAAC,KAAa,EAAE,GAAW;QAClC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,+DAAU,iBAAiB,KAAK,QAAQ,GAAG,EAAE,CAAC;QAC7E,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,GAAG,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC;IAC1F,CAAC;IAED,YAAY,CAAC,EAAU;QACrB,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,sEAAiB,GAAG,EAAE,EAAE,CAAC;QACxD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAc,GAAG,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC;IAClG,CAAC;IAED,qBAAqB,CAAC,KAAa;QACjC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,mEAAc,iBAAiB,KAAK,EAAE,CAAC;QACtE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAc,GAAG,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC;IAClG,CAAC;;4EA7BU,cAAc;iGAAd,cAAc,WAAd,cAAc,mBADF,MAAM;6FAClB,cAAc;cAD1B,wDAAU;eAAC,EAAC,UAAU,EAAE,MAAM,EAAC","file":"common-es2015.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {HttpErrorHandlerService} from './http-error-handler.service';\nimport {Product} from '../models/product.model';\nimport {environment} from '../../../environments/environment';\nimport {CREATE_ORDER_API, GET_ORDERS_API, GET_OTP, ORDER_DETAILS_API, VERIFY_OTP} from '../../constants/api.const';\nimport {catchError} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\nimport {ProductDetail} from \"../models/product-detail.model\";\nimport { UserInfo } from '../models/user-info';\n\n\ninterface CreateOrder {\n  products: Product[];\n  _id: string;\n  total: number;\n}\n\ninterface OTP {\n  status: string;\n}\n\nexport interface OrderDetail extends UserInfo{\n  payment_id: string;\n  payment_status: boolean;\n  order_status: string;\n  transaction_id: string;\n  _id: string;\n  total: number;\n  user_info_completed: boolean;\n  createdAt: string;\n  updatedAt: string;\n  dispatched_date: string;\n  products: Product[];\n}\n\n@Injectable({providedIn: 'root'})\nexport class CartApiService {\n\n  BASE_URL = environment.BASE_URL;\n\n  constructor(private http: HttpClient, private httpErrorHandlerService: HttpErrorHandlerService) {}\n\n  createOrder(data: Product[]): Observable<CreateOrder> {\n    const url = `${this.BASE_URL}${CREATE_ORDER_API}`;\n    return this.http.post<CreateOrder>(url, {products: data}).pipe(catchError(this.httpErrorHandlerService.handleErr));\n  }\n\n  getOtp(phone: number): Observable<OTP> {\n    const url = `${this.BASE_URL}${GET_OTP}?phone_number=${phone}`;\n    return this.http.get<OTP>(url).pipe(catchError(this.httpErrorHandlerService.handleErr));\n  }\n\n  verifyOtp(phone: string, otp: string): Observable<OTP> {\n    const url = `${this.BASE_URL}${VERIFY_OTP}?phone_number=${phone}&otp=${otp}`;\n    return this.http.get<OTP>(url).pipe(catchError(this.httpErrorHandlerService.handleErr));\n  }\n\n  orderDetails(id: string): Observable<OrderDetail> {\n    const url = `${this.BASE_URL}${ORDER_DETAILS_API}${id}`;\n    return this.http.get<OrderDetail>(url).pipe(catchError(this.httpErrorHandlerService.handleErr));\n  }\n\n  getOrderByPhoneNumber(phone: string): Observable<OrderDetail> {\n    const url = `${this.BASE_URL}${GET_ORDERS_API}?phone_number=${phone}`;\n    return this.http.get<OrderDetail>(url).pipe(catchError(this.httpErrorHandlerService.handleErr));\n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}